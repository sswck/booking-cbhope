<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>예약 현황판</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>
    <style>
        .fc-event { cursor: pointer; }
    </style>
</head>
<body class="bg-light">

<nav class="navbar navbar-dark bg-dark mb-4">
    <div class="container">
        <a class="navbar-brand" href="/">충북청년미래센터</a>
        <a href="/" class="btn btn-outline-light btn-sm">메인으로</a>
    </div>
</nav>

<div class="container bg-white p-4 rounded shadow mb-5">
    <h2 class="text-center mb-4">실시간 예약 현황</h2>

    <div class="mb-3 text-end">
        <span class="badge bg-primary">상담실 1</span>
        <span class="badge bg-success">상담실 2</span>
        <span class="badge text-bg-warning">상담실 3</span>
    </div>

    <div id='calendar'></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'timeGridWeek', // 주간 뷰 (시간표처럼 보임)
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay'
            },
            locale: 'ko',
            slotMinTime: '06:00:00',
            slotMaxTime: '24:00:00',
            allDaySlot: false, // 종일 일정 숨김 (시간 예약 위주라서)
            events: '/api/bookings',

            // 이벤트 클릭 시 간단한 알림 (선택사항)
            eventClick: function(info) {
                alert('예약 상세: ' + info.event.title + '\n시간: ' + info.event.start.toLocaleString() + ' ~ ' + info.event.end.toLocaleString());
            }
        });
        calendar.render();
    });
</script>

</body>
</html>